# 小遥搜索 - CUDA GPU配置文件
# 复制此文件为 .env 来启用GPU加速

# AI模型配置
AI_DEFAULT_CLIP_MODEL=OFA-Sys/chinese-clip-vit-base-patch16
AI_DEFAULT_BGE_MODEL=BAAI/bge-m3
AI_DEFAULT_WHISPER_MODEL=base
AI_MODELS_CACHE_DIR=../data/models

# GPU/CUDA配置
AI_DEVICE=cuda                    # 使用GPU (cuda/cpu)
AI_USE_GPU=true                   # 启用GPU加速
AI_GPU_MEMORY_FRACTION=0.8        # GPU内存使用比例 (0.1-1.0)
AI_ENABLE_MIXED_PRECISION=true    # 启用混合精度训练
AI_ENABLE_COMPILE=true            # 启用PyTorch 2.0编译优化

# 模型性能配置
AI_EMBEDDING_BATCH_SIZE=64         # GPU可使用更大的batch size
AI_MAX_SEQUENCE_LENGTH=8192       # 最大序列长度
AI_NORMALIZE_EMBEDDINGS=true      # 标准化嵌入向量

# 搜索性能配置
INDEX_BATCH_SIZE=200              # GPU索引构建批处理大小
SEARCH_BATCH_SIZE=100             # GPU搜索批处理大小
MAX_SEARCH_RESULTS=100            # 最大搜索结果数

# 日志配置
LOG_LEVEL=INFO
LOG_FILE=../data/logs/app.log

# 数据库配置
DB_DATABASE_URL=sqlite:///../data/database/xiaoyao_search.db

# API配置
API_HOST=127.0.0.1
API_PORT=8000
API_RELOAD=false                  # 生产环境关闭热重载

# 安全配置
SECURITY_SECRET_KEY=xiaoyao-search-secret-key-change-in-production
SECURITY_ACCESS_TOKEN_EXPIRE_MINUTES=30