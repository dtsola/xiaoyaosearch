{
  "openapi": "3.1.0",
  "info": {
    "title": "å°é¥æœç´¢API",
    "description": "\n        # å°é¥æœç´¢API\n\n        è·¨å¹³å°æœ¬åœ°æ–‡ä»¶æ™ºèƒ½æœç´¢æœåŠ¡ï¼Œæä¾›å¼ºå¤§çš„æ–‡ä»¶æœç´¢ã€AIæŸ¥è¯¢ç†è§£å’Œéšç§ä¿æŠ¤åŠŸèƒ½ã€‚\n\n        ## ä¸»è¦åŠŸèƒ½\n\n        ### ğŸ” æ™ºèƒ½è¯­ä¹‰æœç´¢\n        - **å‘é‡æœç´¢**: åŸºäºBGEæ¨¡å‹çš„ä¸­æ–‡è¯­ä¹‰ç†è§£\n        - **æ··åˆæœç´¢**: ç»“åˆå‘é‡æœç´¢å’Œä¼ ç»Ÿæ–‡æœ¬æœç´¢\n        - **å¤šæ¨¡æ€æ”¯æŒ**: æ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘æ–‡ä»¶æœç´¢\n        - **ç›¸å…³æ€§æ’åº**: æ™ºèƒ½ç›¸å…³æ€§è¯„åˆ†å’Œç»“æœæ’åº\n\n        ### ğŸ“ æ–‡ä»¶ç®¡ç†\n        - **æ–‡ä»¶ç´¢å¼•**: è‡ªåŠ¨æ–‡ä»¶å‘ç°å’Œç´¢å¼•å»ºç«‹\n        - **å…ƒæ•°æ®æå–**: æ–‡ä»¶å†…å®¹åˆ†æå’Œå…ƒæ•°æ®æå–\n        - **é¢„è§ˆåŠŸèƒ½**: æ–‡ä»¶å†…å®¹å¿«é€Ÿé¢„è§ˆ\n        - **æ‰¹é‡æ“ä½œ**: æ”¯æŒæ‰¹é‡æ–‡ä»¶å¤„ç†\n\n        ### ğŸ¤– AIé©±åŠ¨æŸ¥è¯¢\n        - **è‡ªç„¶è¯­è¨€ç†è§£**: æ”¯æŒè‡ªç„¶è¯­è¨€æŸ¥è¯¢\n        - **æŸ¥è¯¢æ‰©å±•**: è‡ªåŠ¨æŸ¥è¯¢è¯æ‰©å±•å’ŒåŒä¹‰è¯å¤„ç†\n        - **æ„å›¾è¯†åˆ«**: æŸ¥è¯¢æ„å›¾æ™ºèƒ½è¯†åˆ«\n        - **ä¸ªæ€§åŒ–æ¨è**: åŸºäºç”¨æˆ·è¡Œä¸ºçš„æœç´¢æ¨è\n\n        ### ğŸ”’ å®‰å…¨ä¸éšç§\n        - **æœ¬åœ°éƒ¨ç½²**: æ•°æ®å®Œå…¨æœ¬åœ°å­˜å‚¨å’Œå¤„ç†\n        - **ç”¨æˆ·è®¤è¯**: JWTä»¤ç‰Œè®¤è¯æœºåˆ¶\n        - **è®¿é—®æ§åˆ¶**: ç»†ç²’åº¦æƒé™æ§åˆ¶\n        - **å®¡è®¡æ—¥å¿—**: å®Œæ•´çš„æ“ä½œå®¡è®¡è®°å½•\n\n        ## æŠ€æœ¯æ¶æ„\n\n        ### åç«¯æŠ€æœ¯æ ˆ\n        - **FastAPI**: é«˜æ€§èƒ½å¼‚æ­¥Webæ¡†æ¶\n        - **SQLAlchemy**: ORMæ•°æ®åº“æ“ä½œ\n        - **BGE**: ä¸­æ–‡è¯­ä¹‰å‘é‡æ¨¡å‹\n        - **Whoosh**: å…¨æ–‡æœç´¢å¼•æ“\n        - **Faiss**: å‘é‡ç›¸ä¼¼åº¦æœç´¢\n        - **Whisper**: éŸ³é¢‘è½¬æ–‡å­—\n        - **CLIP**: å›¾æ–‡å¤šæ¨¡æ€ç†è§£\n\n        ### æ•°æ®å­˜å‚¨\n        - **SQLite**: è½»é‡çº§å…³ç³»æ•°æ®åº“\n        - **å‘é‡ç´¢å¼•**: Faisså‘é‡å­˜å‚¨\n        - **å€’æ’ç´¢å¼•**: Whooshæ–‡æœ¬ç´¢å¼•\n\n        ## APIä½¿ç”¨æŒ‡å—\n\n        ### è®¤è¯æ–¹å¼\n        APIä½¿ç”¨JWT Bearer Tokenè¿›è¡Œè®¤è¯ï¼š\n        ```\n        Authorization: Bearer <your_token>\n        ```\n\n        ### å“åº”æ ¼å¼\n        æ‰€æœ‰APIå“åº”éƒ½éµå¾ªç»Ÿä¸€æ ¼å¼ï¼š\n        ```json\n        {\n            \"code\": 200,\n            \"message\": \"success\",\n            \"data\": {},\n            \"timestamp\": \"2023-12-07T10:30:00Z\"\n        }\n        ```\n\n        ### é”™è¯¯å¤„ç†\n        é”™è¯¯å“åº”åŒ…å«è¯¦ç»†çš„é”™è¯¯ä¿¡æ¯ï¼š\n        ```json\n        {\n            \"detail\": \"é”™è¯¯æè¿°\",\n            \"error_code\": \"ERROR_CODE\",\n            \"details\": {},\n            \"timestamp\": \"2023-12-07T10:30:00Z\"\n        }\n        ```\n\n        ### åˆ†é¡µæŸ¥è¯¢\n        åˆ—è¡¨æ¥å£æ”¯æŒåˆ†é¡µæŸ¥è¯¢ï¼š\n        ```\n        GET /api/v1/search?page=1&size=20\n        ```\n\n        ## å¼€å‘æŒ‡å—\n\n        ### ç¯å¢ƒè¦æ±‚\n        - Python 3.8+\n        - 8GB+ RAM\n        - è¶³å¤Ÿçš„å­˜å‚¨ç©ºé—´ç”¨äºç´¢å¼•\n\n        ### å¿«é€Ÿå¼€å§‹\n        1. å®‰è£…ä¾èµ–: `pip install -r requirements.txt`\n        2. åˆå§‹åŒ–æ•°æ®åº“: `python database_cli.py init`\n        3. å¯åŠ¨æœåŠ¡: `python main.py`\n        4. è®¿é—®æ–‡æ¡£: `http://localhost:8000/api/v1/docs`\n\n        ### é…ç½®è¯´æ˜\n        è¯¦ç»†é…ç½®è¯·å‚è€ƒ `.env` æ–‡ä»¶æˆ–ç¯å¢ƒå˜é‡è®¾ç½®ã€‚\n\n        ## è®¸å¯è¯\n        MIT License - è¯¦è§ [LICENSE](https://opensource.org/licenses/MIT) æ–‡ä»¶\n\n        ## æ”¯æŒä¸åé¦ˆ\n        - GitHub: https://github.com/xiaoyaosearch\n        - Email: support@xiaoyao.local\n        - æ–‡æ¡£: https://docs.xiaoyao.local\n        ",
    "contact": {
      "name": "å°é¥æœç´¢å¼€å‘å›¢é˜Ÿ",
      "url": "https://github.com/xiaoyaosearch",
      "email": "support@xiaoyao.com"
    },
    "license": {
      "name": "MIT License",
      "url": "https://opensource.org/licenses/MIT"
    },
    "version": "0.1.0"
  },
  "servers": [
    {
      "url": "http://localhost:8000/api/v1",
      "description": "å¼€å‘ç¯å¢ƒ"
    },
    {
      "url": "https://api.xiaoyao.local/api/v1",
      "description": "ç”Ÿäº§ç¯å¢ƒ"
    }
  ],
  "paths": {
    "/": {
      "get": {
        "summary": "Root",
        "description": "æ ¹è·¯å¾„å¥åº·æ£€æŸ¥",
        "operationId": "root__get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/health": {
      "get": {
        "summary": "Health Check",
        "description": "è¯¦ç»†å¥åº·æ£€æŸ¥",
        "operationId": "health_check_health_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          }
        }
      }
    },
    "/api/v1/v1/search/": {
      "get": {
        "tags": [
          "API v1",
          "æœç´¢"
        ],
        "summary": "Search Files",
        "description": "æœç´¢æ–‡ä»¶",
        "operationId": "search_files_api_v1_v1_search__get",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "æœç´¢æŸ¥è¯¢",
              "title": "Q"
            },
            "description": "æœç´¢æŸ¥è¯¢"
          },
          {
            "name": "type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "æ–‡ä»¶ç±»å‹è¿‡æ»¤",
              "title": "Type"
            },
            "description": "æ–‡ä»¶ç±»å‹è¿‡æ»¤"
          },
          {
            "name": "start_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "å¼€å§‹æ—¥æœŸ",
              "title": "Start Date"
            },
            "description": "å¼€å§‹æ—¥æœŸ"
          },
          {
            "name": "end_date",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "ç»“æŸæ—¥æœŸ",
              "title": "End Date"
            },
            "description": "ç»“æŸæ—¥æœŸ"
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "è¿”å›ç»“æœæ•°é‡",
              "default": 20,
              "title": "Size"
            },
            "description": "è¿”å›ç»“æœæ•°é‡"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "é¡µç ",
              "default": 1,
              "title": "Page"
            },
            "description": "é¡µç "
          }
        ],
        "responses": {
          "200": {
            "description": "æœç´¢æˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SearchResponse"
                }
              }
            }
          },
          "400": {
            "description": "æœç´¢å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "èµ„æºæœªæ‰¾åˆ°"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æœç´¢æœåŠ¡å¼‚å¸¸"
          }
        }
      }
    },
    "/api/v1/v1/search/understand": {
      "post": {
        "tags": [
          "API v1",
          "æœç´¢"
        ],
        "summary": "Understand Query",
        "description": "ç†è§£ç”¨æˆ·æŸ¥è¯¢æ„å›¾",
        "operationId": "understand_query_api_v1_v1_search_understand_post",
        "parameters": [
          {
            "name": "query",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "ç”¨æˆ·æŸ¥è¯¢",
              "title": "Query"
            },
            "description": "ç”¨æˆ·æŸ¥è¯¢"
          }
        ],
        "responses": {
          "200": {
            "description": "æœç´¢æˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "additionalProperties": true,
                  "title": "Response Understand Query Api V1 V1 Search Understand Post"
                }
              }
            }
          },
          "400": {
            "description": "æœç´¢å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "èµ„æºæœªæ‰¾åˆ°"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æœç´¢æœåŠ¡å¼‚å¸¸"
          }
        }
      }
    },
    "/api/v1/v1/search/suggestions": {
      "get": {
        "tags": [
          "API v1",
          "æœç´¢"
        ],
        "summary": "Get Search Suggestions",
        "description": "è·å–æœç´¢å»ºè®®",
        "operationId": "get_search_suggestions_api_v1_v1_search_suggestions_get",
        "parameters": [
          {
            "name": "q",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "æŸ¥è¯¢å‰ç¼€",
              "title": "Q"
            },
            "description": "æŸ¥è¯¢å‰ç¼€"
          },
          {
            "name": "limit",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 20,
              "minimum": 1,
              "description": "å»ºè®®æ•°é‡",
              "default": 5,
              "title": "Limit"
            },
            "description": "å»ºè®®æ•°é‡"
          }
        ],
        "responses": {
          "200": {
            "description": "æœç´¢æˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "æœç´¢å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "èµ„æºæœªæ‰¾åˆ°"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æœç´¢æœåŠ¡å¼‚å¸¸"
          }
        }
      }
    },
    "/api/v1/v1/files/": {
      "get": {
        "tags": [
          "API v1",
          "æ–‡ä»¶ç®¡ç†"
        ],
        "summary": "List Files",
        "description": "è·å–æ–‡ä»¶åˆ—è¡¨",
        "operationId": "list_files_api_v1_v1_files__get",
        "parameters": [
          {
            "name": "directory_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "ç›®å½•ID",
              "title": "Directory Id"
            },
            "description": "ç›®å½•ID"
          },
          {
            "name": "type",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "æ–‡ä»¶ç±»å‹è¿‡æ»¤",
              "title": "Type"
            },
            "description": "æ–‡ä»¶ç±»å‹è¿‡æ»¤"
          },
          {
            "name": "indexed_only",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "ä»…æ˜¾ç¤ºå·²ç´¢å¼•æ–‡ä»¶",
              "default": true,
              "title": "Indexed Only"
            },
            "description": "ä»…æ˜¾ç¤ºå·²ç´¢å¼•æ–‡ä»¶"
          },
          {
            "name": "page",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "minimum": 1,
              "description": "é¡µç ",
              "default": 1,
              "title": "Page"
            },
            "description": "é¡µç "
          },
          {
            "name": "size",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "maximum": 100,
              "minimum": 1,
              "description": "æ¯é¡µæ•°é‡",
              "default": 50,
              "title": "Size"
            },
            "description": "æ¯é¡µæ•°é‡"
          }
        ],
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/FileInfo"
                  },
                  "title": "Response List Files Api V1 V1 Files  Get"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "æ–‡ä»¶ä¸å­˜åœ¨"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"
          },
          "409": {
            "description": "æ–‡ä»¶å†²çª"
          }
        }
      }
    },
    "/api/v1/v1/files/{file_id}": {
      "get": {
        "tags": [
          "API v1",
          "æ–‡ä»¶ç®¡ç†"
        ],
        "summary": "Get File Info",
        "description": "è·å–æ–‡ä»¶è¯¦ç»†ä¿¡æ¯",
        "operationId": "get_file_info_api_v1_v1_files__file_id__get",
        "parameters": [
          {
            "name": "file_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "File Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FileInfo"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "æ–‡ä»¶ä¸å­˜åœ¨"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"
          },
          "409": {
            "description": "æ–‡ä»¶å†²çª"
          }
        }
      },
      "delete": {
        "tags": [
          "API v1",
          "æ–‡ä»¶ç®¡ç†"
        ],
        "summary": "Delete File",
        "description": "åˆ é™¤æ–‡ä»¶",
        "operationId": "delete_file_api_v1_v1_files__file_id__delete",
        "parameters": [
          {
            "name": "file_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "File Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "æ–‡ä»¶ä¸å­˜åœ¨"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"
          },
          "409": {
            "description": "æ–‡ä»¶å†²çª"
          }
        }
      }
    },
    "/api/v1/v1/files/{file_id}/preview": {
      "get": {
        "tags": [
          "API v1",
          "æ–‡ä»¶ç®¡ç†"
        ],
        "summary": "Preview File",
        "description": "é¢„è§ˆæ–‡ä»¶å†…å®¹",
        "operationId": "preview_file_api_v1_v1_files__file_id__preview_get",
        "parameters": [
          {
            "name": "file_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "File Id"
            }
          },
          {
            "name": "highlights",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "é«˜äº®å…³é”®è¯",
              "title": "Highlights"
            },
            "description": "é«˜äº®å…³é”®è¯"
          }
        ],
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/FilePreview"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "æ–‡ä»¶ä¸å­˜åœ¨"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"
          },
          "409": {
            "description": "æ–‡ä»¶å†²çª"
          }
        }
      }
    },
    "/api/v1/v1/files/{file_id}/open": {
      "post": {
        "tags": [
          "API v1",
          "æ–‡ä»¶ç®¡ç†"
        ],
        "summary": "Open File",
        "description": "ä½¿ç”¨ç³»ç»Ÿé»˜è®¤åº”ç”¨æ‰“å¼€æ–‡ä»¶",
        "operationId": "open_file_api_v1_v1_files__file_id__open_post",
        "parameters": [
          {
            "name": "file_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "File Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "æ–‡ä»¶ä¸å­˜åœ¨"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"
          },
          "409": {
            "description": "æ–‡ä»¶å†²çª"
          }
        }
      }
    },
    "/api/v1/v1/files/upload": {
      "post": {
        "tags": [
          "API v1",
          "æ–‡ä»¶ç®¡ç†"
        ],
        "summary": "Upload File",
        "description": "ä¸Šä¼ æ–‡ä»¶",
        "operationId": "upload_file_api_v1_v1_files_upload_post",
        "parameters": [
          {
            "name": "directory_id",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "description": "ç›®æ ‡ç›®å½•ID",
              "title": "Directory Id"
            },
            "description": "ç›®æ ‡ç›®å½•ID"
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "$ref": "#/components/schemas/Body_upload_file_api_v1_v1_files_upload_post"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "æ–‡ä»¶ä¸å­˜åœ¨"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"
          },
          "409": {
            "description": "æ–‡ä»¶å†²çª"
          }
        }
      }
    },
    "/api/v1/v1/directories/": {
      "get": {
        "tags": [
          "API v1",
          "ç›®å½•ç®¡ç†"
        ],
        "summary": "List Directories",
        "description": "è·å–æ‰€æœ‰ç´¢å¼•ç›®å½•",
        "operationId": "list_directories_api_v1_v1_directories__get",
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "items": {
                    "$ref": "#/components/schemas/DirectoryInfo"
                  },
                  "type": "array",
                  "title": "Response List Directories Api V1 V1 Directories  Get"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "ç›®å½•ä¸å­˜åœ¨"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"
          },
          "409": {
            "description": "ç›®å½•å†²çª"
          }
        }
      },
      "post": {
        "tags": [
          "API v1",
          "ç›®å½•ç®¡ç†"
        ],
        "summary": "Add Directory",
        "description": "æ·»åŠ ç´¢å¼•ç›®å½•",
        "operationId": "add_directory_api_v1_v1_directories__post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DirectoryCreate"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DirectoryInfo"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "ç›®å½•ä¸å­˜åœ¨"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"
          },
          "409": {
            "description": "ç›®å½•å†²çª"
          }
        }
      }
    },
    "/api/v1/v1/directories/{directory_id}": {
      "get": {
        "tags": [
          "API v1",
          "ç›®å½•ç®¡ç†"
        ],
        "summary": "Get Directory",
        "description": "è·å–ç›®å½•è¯¦ç»†ä¿¡æ¯",
        "operationId": "get_directory_api_v1_v1_directories__directory_id__get",
        "parameters": [
          {
            "name": "directory_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Directory Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DirectoryInfo"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "ç›®å½•ä¸å­˜åœ¨"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"
          },
          "409": {
            "description": "ç›®å½•å†²çª"
          }
        }
      },
      "delete": {
        "tags": [
          "API v1",
          "ç›®å½•ç®¡ç†"
        ],
        "summary": "Remove Directory",
        "description": "ç§»é™¤ç´¢å¼•ç›®å½•",
        "operationId": "remove_directory_api_v1_v1_directories__directory_id__delete",
        "parameters": [
          {
            "name": "directory_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Directory Id"
            }
          },
          {
            "name": "remove_files",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "æ˜¯å¦åŒæ—¶åˆ é™¤ç›¸å…³æ–‡ä»¶ç´¢å¼•",
              "default": false,
              "title": "Remove Files"
            },
            "description": "æ˜¯å¦åŒæ—¶åˆ é™¤ç›¸å…³æ–‡ä»¶ç´¢å¼•"
          }
        ],
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "ç›®å½•ä¸å­˜åœ¨"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"
          },
          "409": {
            "description": "ç›®å½•å†²çª"
          }
        }
      }
    },
    "/api/v1/v1/directories/{directory_id}/scan": {
      "post": {
        "tags": [
          "API v1",
          "ç›®å½•ç®¡ç†"
        ],
        "summary": "Scan Directory",
        "description": "æ‰«æç›®å½•",
        "operationId": "scan_directory_api_v1_v1_directories__directory_id__scan_post",
        "parameters": [
          {
            "name": "directory_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Directory Id"
            }
          },
          {
            "name": "full_scan",
            "in": "query",
            "required": false,
            "schema": {
              "type": "boolean",
              "description": "æ˜¯å¦è¿›è¡Œå…¨é‡æ‰«æ",
              "default": false,
              "title": "Full Scan"
            },
            "description": "æ˜¯å¦è¿›è¡Œå…¨é‡æ‰«æ"
          }
        ],
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "ç›®å½•ä¸å­˜åœ¨"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"
          },
          "409": {
            "description": "ç›®å½•å†²çª"
          }
        }
      }
    },
    "/api/v1/v1/directories/{directory_id}/status": {
      "get": {
        "tags": [
          "API v1",
          "ç›®å½•ç®¡ç†"
        ],
        "summary": "Get Directory Status",
        "description": "è·å–ç›®å½•æ‰«æçŠ¶æ€",
        "operationId": "get_directory_status_api_v1_v1_directories__directory_id__status_get",
        "parameters": [
          {
            "name": "directory_id",
            "in": "path",
            "required": true,
            "schema": {
              "type": "string",
              "title": "Directory Id"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "ç›®å½•ä¸å­˜åœ¨"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"
          },
          "409": {
            "description": "ç›®å½•å†²çª"
          }
        }
      }
    },
    "/api/v1/v1/users/current": {
      "get": {
        "tags": [
          "API v1",
          "ç”¨æˆ·ç®¡ç†"
        ],
        "summary": "Get Current User",
        "description": "è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯",
        "operationId": "get_current_user_api_v1_v1_users_current_get",
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "èµ„æºæœªæ‰¾åˆ°"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"
          }
        }
      }
    },
    "/api/v1/v1/users/": {
      "post": {
        "tags": [
          "API v1",
          "ç”¨æˆ·ç®¡ç†"
        ],
        "summary": "Create User",
        "description": "åˆ›å»ºç”¨æˆ·",
        "operationId": "create_user_api_v1_v1_users__post",
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "èµ„æºæœªæ‰¾åˆ°"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"
          }
        }
      }
    },
    "/api/v1/v1/settings/": {
      "get": {
        "tags": [
          "API v1",
          "è®¾ç½®ç®¡ç†"
        ],
        "summary": "Get Settings",
        "description": "è·å–ç”¨æˆ·è®¾ç½®",
        "operationId": "get_settings_api_v1_v1_settings__get",
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "è®¾ç½®å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "èµ„æºæœªæ‰¾åˆ°"
          },
          "422": {
            "description": "è®¾ç½®æ ¼å¼é”™è¯¯"
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"
          }
        }
      },
      "put": {
        "tags": [
          "API v1",
          "è®¾ç½®ç®¡ç†"
        ],
        "summary": "Update Settings",
        "description": "æ›´æ–°ç”¨æˆ·è®¾ç½®",
        "operationId": "update_settings_api_v1_v1_settings__put",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": true,
                "type": "object",
                "title": "Settings Data"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "è®¾ç½®å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "èµ„æºæœªæ‰¾åˆ°"
          },
          "422": {
            "description": "è®¾ç½®æ ¼å¼é”™è¯¯"
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"
          }
        }
      }
    },
    "/api/v1/v1/settings/reset": {
      "post": {
        "tags": [
          "API v1",
          "è®¾ç½®ç®¡ç†"
        ],
        "summary": "Reset Settings",
        "description": "é‡ç½®ç”¨æˆ·è®¾ç½®",
        "operationId": "reset_settings_api_v1_v1_settings_reset_post",
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "è®¾ç½®å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "èµ„æºæœªæ‰¾åˆ°"
          },
          "422": {
            "description": "è®¾ç½®æ ¼å¼é”™è¯¯"
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"
          }
        }
      }
    },
    "/api/v1/v1/settings/export": {
      "post": {
        "tags": [
          "API v1",
          "è®¾ç½®ç®¡ç†"
        ],
        "summary": "Export Settings",
        "description": "å¯¼å‡ºè®¾ç½®",
        "operationId": "export_settings_api_v1_v1_settings_export_post",
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "è®¾ç½®å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "èµ„æºæœªæ‰¾åˆ°"
          },
          "422": {
            "description": "è®¾ç½®æ ¼å¼é”™è¯¯"
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"
          }
        }
      }
    },
    "/api/v1/v1/settings/import": {
      "post": {
        "tags": [
          "API v1",
          "è®¾ç½®ç®¡ç†"
        ],
        "summary": "Import Settings",
        "description": "å¯¼å…¥è®¾ç½®",
        "operationId": "import_settings_api_v1_v1_settings_import_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "additionalProperties": true,
                "type": "object",
                "title": "Settings Data"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "è®¾ç½®å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "èµ„æºæœªæ‰¾åˆ°"
          },
          "422": {
            "description": "è®¾ç½®æ ¼å¼é”™è¯¯"
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"
          }
        }
      }
    },
    "/api/v1/v1/database/health": {
      "get": {
        "tags": [
          "API v1",
          "æ•°æ®åº“ç®¡ç†"
        ],
        "summary": "Get Database Health",
        "description": "è·å–æ•°æ®åº“å¥åº·çŠ¶æ€\n\nReturns:\n    DatabaseHealthResponse: æ•°æ®åº“å¥åº·çŠ¶æ€ä¿¡æ¯",
        "operationId": "get_database_health_api_v1_v1_database_health_get",
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DatabaseHealthResponse"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "èµ„æºæœªæ‰¾åˆ°"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æ•°æ®åº“æ“ä½œå¤±è´¥"
          },
          "503": {
            "description": "æ•°æ®åº“ä¸å¯ç”¨"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/v1/database/info": {
      "get": {
        "tags": [
          "API v1",
          "æ•°æ®åº“ç®¡ç†"
        ],
        "summary": "Get Database Info",
        "description": "è·å–æ•°æ®åº“è¯¦ç»†ä¿¡æ¯\n\nReturns:\n    DatabaseInfoResponse: æ•°æ®åº“è¯¦ç»†ä¿¡æ¯",
        "operationId": "get_database_info_api_v1_v1_database_info_get",
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DatabaseInfoResponse"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "èµ„æºæœªæ‰¾åˆ°"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æ•°æ®åº“æ“ä½œå¤±è´¥"
          },
          "503": {
            "description": "æ•°æ®åº“ä¸å¯ç”¨"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/v1/database/backup": {
      "post": {
        "tags": [
          "API v1",
          "æ•°æ®åº“ç®¡ç†"
        ],
        "summary": "Create Database Backup",
        "description": "åˆ›å»ºæ•°æ®åº“å¤‡ä»½\n\nArgs:\n    backup_dir: å¤‡ä»½ç›®å½•è·¯å¾„ï¼ˆå¯é€‰ï¼‰\n\nReturns:\n    BackupResponse: å¤‡ä»½ç»“æœ",
        "operationId": "create_database_backup_api_v1_v1_database_backup_post",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "backup_dir",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Backup Dir"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BackupResponse"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "èµ„æºæœªæ‰¾åˆ°"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æ•°æ®åº“æ“ä½œå¤±è´¥"
          },
          "503": {
            "description": "æ•°æ®åº“ä¸å¯ç”¨"
          }
        }
      }
    },
    "/api/v1/v1/database/backups": {
      "get": {
        "tags": [
          "API v1",
          "æ•°æ®åº“ç®¡ç†"
        ],
        "summary": "List Database Backups",
        "description": "åˆ—å‡ºæ‰€æœ‰æ•°æ®åº“å¤‡ä»½æ–‡ä»¶\n\nArgs:\n    backup_dir: å¤‡ä»½ç›®å½•è·¯å¾„ï¼ˆå¯é€‰ï¼‰\n\nReturns:\n    BackupListResponse: å¤‡ä»½æ–‡ä»¶åˆ—è¡¨",
        "operationId": "list_database_backups_api_v1_v1_database_backups_get",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "backup_dir",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Backup Dir"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/BackupListResponse"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "èµ„æºæœªæ‰¾åˆ°"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æ•°æ®åº“æ“ä½œå¤±è´¥"
          },
          "503": {
            "description": "æ•°æ®åº“ä¸å¯ç”¨"
          }
        }
      }
    },
    "/api/v1/v1/database/restore": {
      "post": {
        "tags": [
          "API v1",
          "æ•°æ®åº“ç®¡ç†"
        ],
        "summary": "Restore Database From Backup",
        "description": "ä»å¤‡ä»½æ¢å¤æ•°æ®åº“\n\nArgs:\n    request: æ¢å¤è¯·æ±‚å‚æ•°\n\nReturns:\n    RestoreResponse: æ¢å¤ç»“æœ",
        "operationId": "restore_database_from_backup_api_v1_v1_database_restore_post",
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/RestoreRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/RestoreResponse"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "èµ„æºæœªæ‰¾åˆ°"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æ•°æ®åº“æ“ä½œå¤±è´¥"
          },
          "503": {
            "description": "æ•°æ®åº“ä¸å¯ç”¨"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/v1/database/backups/cleanup": {
      "delete": {
        "tags": [
          "API v1",
          "æ•°æ®åº“ç®¡ç†"
        ],
        "summary": "Cleanup Old Database Backups",
        "description": "æ¸…ç†æ—§çš„æ•°æ®åº“å¤‡ä»½æ–‡ä»¶\n\nArgs:\n    keep_count: ä¿ç•™çš„å¤‡ä»½æ•°é‡\n    backup_dir: å¤‡ä»½ç›®å½•è·¯å¾„ï¼ˆå¯é€‰ï¼‰\n\nReturns:\n    CleanupResponse: æ¸…ç†ç»“æœ",
        "operationId": "cleanup_old_database_backups_api_v1_v1_database_backups_cleanup_delete",
        "security": [
          {
            "HTTPBearer": []
          }
        ],
        "parameters": [
          {
            "name": "keep_count",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "default": 5,
              "title": "Keep Count"
            }
          },
          {
            "name": "backup_dir",
            "in": "query",
            "required": false,
            "schema": {
              "anyOf": [
                {
                  "type": "string"
                },
                {
                  "type": "null"
                }
              ],
              "title": "Backup Dir"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CleanupResponse"
                }
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "èµ„æºæœªæ‰¾åˆ°"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æ•°æ®åº“æ“ä½œå¤±è´¥"
          },
          "503": {
            "description": "æ•°æ®åº“ä¸å¯ç”¨"
          }
        }
      }
    },
    "/api/v1/v1/database/vacuum": {
      "post": {
        "tags": [
          "API v1",
          "æ•°æ®åº“ç®¡ç†"
        ],
        "summary": "Vacuum Database",
        "description": "æ¸…ç†æ•°æ®åº“ç¢ç‰‡ï¼Œä¼˜åŒ–æ•°æ®åº“æ–‡ä»¶å¤§å°\nä»…é€‚ç”¨äºSQLiteæ•°æ®åº“\n\nReturns:\n    dict: æ¸…ç†ç»“æœ",
        "operationId": "vacuum_database_api_v1_v1_database_vacuum_post",
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "èµ„æºæœªæ‰¾åˆ°"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æ•°æ®åº“æ“ä½œå¤±è´¥"
          },
          "503": {
            "description": "æ•°æ®åº“ä¸å¯ç”¨"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/v1/database/analyze": {
      "post": {
        "tags": [
          "API v1",
          "æ•°æ®åº“ç®¡ç†"
        ],
        "summary": "Analyze Database",
        "description": "åˆ†ææ•°æ®åº“ç»Ÿè®¡ä¿¡æ¯ï¼Œä¼˜åŒ–æŸ¥è¯¢æ€§èƒ½\nä»…é€‚ç”¨äºSQLiteæ•°æ®åº“\n\nReturns:\n    dict: åˆ†æç»“æœ",
        "operationId": "analyze_database_api_v1_v1_database_analyze_post",
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "èµ„æºæœªæ‰¾åˆ°"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æ•°æ®åº“æ“ä½œå¤±è´¥"
          },
          "503": {
            "description": "æ•°æ®åº“ä¸å¯ç”¨"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/v1/database/stats": {
      "get": {
        "tags": [
          "API v1",
          "æ•°æ®åº“ç®¡ç†"
        ],
        "summary": "Get Database Statistics",
        "description": "è·å–æ•°æ®åº“ç»Ÿè®¡ä¿¡æ¯\n\nReturns:\n    dict: æ•°æ®åº“ç»Ÿè®¡ä¿¡æ¯",
        "operationId": "get_database_statistics_api_v1_v1_database_stats_get",
        "responses": {
          "200": {
            "description": "æ“ä½œæˆåŠŸ",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "èµ„æºæœªæ‰¾åˆ°"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æ•°æ®åº“æ“ä½œå¤±è´¥"
          },
          "503": {
            "description": "æ•°æ®åº“ä¸å¯ç”¨"
          }
        },
        "security": [
          {
            "HTTPBearer": []
          }
        ]
      }
    },
    "/api/v1/v1/info": {
      "get": {
        "tags": [
          "API v1"
        ],
        "summary": "è·å–APIä¿¡æ¯",
        "description": "è·å–APIç‰ˆæœ¬å’Œé…ç½®ä¿¡æ¯",
        "operationId": "api_info_api_v1_v1_info_get",
        "responses": {
          "200": {
            "description": "Successful Response",
            "content": {
              "application/json": {
                "schema": {}
              }
            }
          },
          "400": {
            "description": "è¯·æ±‚å‚æ•°é”™è¯¯"
          },
          "401": {
            "description": "æœªæˆæƒ"
          },
          "403": {
            "description": "æƒé™ä¸è¶³"
          },
          "404": {
            "description": "èµ„æºæœªæ‰¾åˆ°"
          },
          "422": {
            "description": "è¯·æ±‚å‚æ•°éªŒè¯å¤±è´¥"
          },
          "500": {
            "description": "æœåŠ¡å™¨å†…éƒ¨é”™è¯¯"
          }
        }
      }
    }
  },
  "components": {
    "schemas": {
      "BackupInfo": {
        "properties": {
          "filename": {
            "type": "string",
            "title": "Filename"
          },
          "path": {
            "type": "string",
            "title": "Path"
          },
          "size_bytes": {
            "type": "integer",
            "title": "Size Bytes"
          },
          "size_mb": {
            "type": "number",
            "title": "Size Mb"
          },
          "created_at": {
            "type": "string",
            "title": "Created At"
          },
          "modified_at": {
            "type": "string",
            "title": "Modified At"
          }
        },
        "type": "object",
        "required": [
          "filename",
          "path",
          "size_bytes",
          "size_mb",
          "created_at",
          "modified_at"
        ],
        "title": "BackupInfo"
      },
      "BackupListResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "backups": {
            "items": {
              "$ref": "#/components/schemas/BackupInfo"
            },
            "type": "array",
            "title": "Backups"
          },
          "count": {
            "type": "integer",
            "title": "Count"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          }
        },
        "type": "object",
        "required": [
          "success",
          "backups",
          "count"
        ],
        "title": "BackupListResponse"
      },
      "BackupResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "backup_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Backup Path"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "BackupResponse"
      },
      "Body_upload_file_api_v1_v1_files_upload_post": {
        "properties": {
          "file": {
            "type": "string",
            "format": "binary",
            "title": "File"
          }
        },
        "type": "object",
        "required": [
          "file"
        ],
        "title": "Body_upload_file_api_v1_v1_files_upload_post"
      },
      "CleanupResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "deleted_count": {
            "type": "integer",
            "title": "Deleted Count"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message",
          "deleted_count"
        ],
        "title": "CleanupResponse"
      },
      "DatabaseHealthResponse": {
        "properties": {
          "status": {
            "type": "string",
            "title": "Status"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "timestamp": {
            "type": "string",
            "title": "Timestamp"
          }
        },
        "type": "object",
        "required": [
          "status",
          "message",
          "timestamp"
        ],
        "title": "DatabaseHealthResponse"
      },
      "DatabaseInfoResponse": {
        "properties": {
          "database_type": {
            "type": "string",
            "title": "Database Type"
          },
          "database_path": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Database Path"
          },
          "file_size_bytes": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Size Bytes"
          },
          "file_size_mb": {
            "anyOf": [
              {
                "type": "number"
              },
              {
                "type": "null"
              }
            ],
            "title": "File Size Mb"
          },
          "tables_count": {
            "anyOf": [
              {
                "type": "integer"
              },
              {
                "type": "null"
              }
            ],
            "title": "Tables Count"
          },
          "connection_pool": {
            "additionalProperties": true,
            "type": "object",
            "title": "Connection Pool"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          }
        },
        "type": "object",
        "required": [
          "database_type",
          "connection_pool"
        ],
        "title": "DatabaseInfoResponse"
      },
      "DirectoryCreate": {
        "properties": {
          "path": {
            "type": "string",
            "title": "Path",
            "description": "ç›®å½•è·¯å¾„"
          },
          "name": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Name",
            "description": "ç›®å½•åç§°"
          }
        },
        "type": "object",
        "required": [
          "path"
        ],
        "title": "DirectoryCreate",
        "description": "ç›®å½•åˆ›å»ºæ¨¡å¼"
      },
      "DirectoryInfo": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "ç›®å½•ID"
          },
          "path": {
            "type": "string",
            "title": "Path",
            "description": "ç›®å½•è·¯å¾„"
          },
          "name": {
            "type": "string",
            "title": "Name",
            "description": "ç›®å½•åç§°"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "çŠ¶æ€: active, inactive, error"
          },
          "file_count": {
            "type": "integer",
            "title": "File Count",
            "description": "æ–‡ä»¶æ•°é‡"
          },
          "indexed_count": {
            "type": "integer",
            "title": "Indexed Count",
            "description": "å·²ç´¢å¼•æ–‡ä»¶æ•°é‡"
          },
          "last_scan_time": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Last Scan Time",
            "description": "æœ€åæ‰«ææ—¶é—´"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "åˆ›å»ºæ—¶é—´"
          },
          "updated_at": {
            "type": "string",
            "title": "Updated At",
            "description": "æ›´æ–°æ—¶é—´"
          },
          "error_message": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error Message",
            "description": "é”™è¯¯ä¿¡æ¯"
          }
        },
        "type": "object",
        "required": [
          "id",
          "path",
          "name",
          "status",
          "file_count",
          "indexed_count",
          "created_at",
          "updated_at"
        ],
        "title": "DirectoryInfo",
        "description": "ç›®å½•ä¿¡æ¯æ¨¡å¼"
      },
      "FileInfo": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "æ–‡ä»¶ID"
          },
          "file_name": {
            "type": "string",
            "title": "File Name",
            "description": "æ–‡ä»¶å"
          },
          "file_path": {
            "type": "string",
            "title": "File Path",
            "description": "æ–‡ä»¶è·¯å¾„"
          },
          "size": {
            "type": "integer",
            "title": "Size",
            "description": "æ–‡ä»¶å¤§å°(å­—èŠ‚)"
          },
          "file_type": {
            "type": "string",
            "title": "File Type",
            "description": "æ–‡ä»¶ç±»å‹"
          },
          "mime_type": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Mime Type",
            "description": "MIMEç±»å‹"
          },
          "modified_time": {
            "type": "string",
            "title": "Modified Time",
            "description": "ä¿®æ”¹æ—¶é—´"
          },
          "created_at": {
            "type": "string",
            "title": "Created At",
            "description": "åˆ›å»ºæ—¶é—´"
          },
          "indexed_at": {
            "type": "string",
            "title": "Indexed At",
            "description": "ç´¢å¼•æ—¶é—´"
          },
          "status": {
            "type": "string",
            "title": "Status",
            "description": "çŠ¶æ€"
          },
          "is_deleted": {
            "type": "boolean",
            "title": "Is Deleted",
            "description": "æ˜¯å¦å·²åˆ é™¤",
            "default": false
          }
        },
        "type": "object",
        "required": [
          "id",
          "file_name",
          "file_path",
          "size",
          "file_type",
          "modified_time",
          "created_at",
          "indexed_at",
          "status"
        ],
        "title": "FileInfo",
        "description": "æ–‡ä»¶ä¿¡æ¯æ¨¡å¼"
      },
      "FilePreview": {
        "properties": {
          "file_id": {
            "type": "string",
            "title": "File Id",
            "description": "æ–‡ä»¶ID"
          },
          "file_name": {
            "type": "string",
            "title": "File Name",
            "description": "æ–‡ä»¶å"
          },
          "file_type": {
            "type": "string",
            "title": "File Type",
            "description": "æ–‡ä»¶ç±»å‹"
          },
          "preview_type": {
            "type": "string",
            "title": "Preview Type",
            "description": "é¢„è§ˆç±»å‹"
          },
          "content": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Content",
            "description": "æ–‡æœ¬å†…å®¹"
          },
          "metadata": {
            "anyOf": [
              {
                "additionalProperties": true,
                "type": "object"
              },
              {
                "type": "null"
              }
            ],
            "title": "Metadata",
            "description": "æ–‡ä»¶å…ƒæ•°æ®"
          },
          "highlights": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Highlights",
            "description": "é«˜äº®å…³é”®è¯"
          },
          "preview_url": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Preview Url",
            "description": "é¢„è§ˆURL"
          }
        },
        "type": "object",
        "required": [
          "file_id",
          "file_name",
          "file_type",
          "preview_type"
        ],
        "title": "FilePreview",
        "description": "æ–‡ä»¶é¢„è§ˆæ¨¡å¼"
      },
      "RestoreRequest": {
        "properties": {
          "backup_path": {
            "type": "string",
            "title": "Backup Path"
          }
        },
        "type": "object",
        "required": [
          "backup_path"
        ],
        "title": "RestoreRequest"
      },
      "RestoreResponse": {
        "properties": {
          "success": {
            "type": "boolean",
            "title": "Success"
          },
          "message": {
            "type": "string",
            "title": "Message"
          },
          "error": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ],
            "title": "Error"
          }
        },
        "type": "object",
        "required": [
          "success",
          "message"
        ],
        "title": "RestoreResponse"
      },
      "SearchResponse": {
        "properties": {
          "query": {
            "type": "string",
            "title": "Query",
            "description": "æœç´¢æŸ¥è¯¢"
          },
          "total": {
            "type": "integer",
            "title": "Total",
            "description": "ç»“æœæ€»æ•°"
          },
          "results": {
            "items": {
              "$ref": "#/components/schemas/SearchResult"
            },
            "type": "array",
            "title": "Results",
            "description": "æœç´¢ç»“æœåˆ—è¡¨"
          },
          "search_time": {
            "type": "number",
            "title": "Search Time",
            "description": "æœç´¢è€—æ—¶(ç§’)"
          },
          "suggestions": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Suggestions",
            "description": "æœç´¢å»ºè®®"
          }
        },
        "type": "object",
        "required": [
          "query",
          "total",
          "results",
          "search_time"
        ],
        "title": "SearchResponse",
        "description": "æœç´¢å“åº”æ¨¡å¼"
      },
      "SearchResult": {
        "properties": {
          "id": {
            "type": "string",
            "title": "Id",
            "description": "æ–‡ä»¶ID"
          },
          "title": {
            "type": "string",
            "title": "Title",
            "description": "æ–‡ä»¶æ ‡é¢˜"
          },
          "path": {
            "type": "string",
            "title": "Path",
            "description": "æ–‡ä»¶è·¯å¾„"
          },
          "size": {
            "type": "integer",
            "title": "Size",
            "description": "æ–‡ä»¶å¤§å°(å­—èŠ‚)"
          },
          "modified_time": {
            "type": "string",
            "title": "Modified Time",
            "description": "ä¿®æ”¹æ—¶é—´"
          },
          "file_type": {
            "type": "string",
            "title": "File Type",
            "description": "æ–‡ä»¶ç±»å‹"
          },
          "score": {
            "type": "number",
            "title": "Score",
            "description": "ç›¸å…³æ€§å¾—åˆ†"
          },
          "summary": {
            "type": "string",
            "title": "Summary",
            "description": "æ–‡ä»¶æ‘˜è¦"
          },
          "highlights": {
            "items": {
              "type": "string"
            },
            "type": "array",
            "title": "Highlights",
            "description": "é«˜äº®å…³é”®è¯"
          }
        },
        "type": "object",
        "required": [
          "id",
          "title",
          "path",
          "size",
          "modified_time",
          "file_type",
          "score",
          "summary"
        ],
        "title": "SearchResult",
        "description": "æœç´¢ç»“æœé¡¹æ¨¡å¼"
      }
    },
    "securitySchemes": {
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT",
        "description": "JWT Bearer Tokenè®¤è¯"
      }
    },
    "examples": {
      "SearchRequest": {
        "summary": "æœç´¢è¯·æ±‚ç¤ºä¾‹",
        "value": {
          "query": "äººå·¥æ™ºèƒ½å‘å±•è¶‹åŠ¿",
          "type": "document",
          "start_date": "2023-01-01",
          "end_date": "2023-12-31",
          "size": 20,
          "page": 1
        }
      },
      "UserLogin": {
        "summary": "ç”¨æˆ·ç™»å½•ç¤ºä¾‹",
        "value": {
          "username": "admin",
          "password": "password123"
        }
      },
      "ErrorResponse": {
        "summary": "é”™è¯¯å“åº”ç¤ºä¾‹",
        "value": {
          "detail": "ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯",
          "error_code": "AUTHENTICATION_ERROR",
          "timestamp": "2023-12-07T10:30:00Z"
        }
      }
    }
  },
  "tags": [
    {
      "name": "è®¤è¯",
      "description": "ç”¨æˆ·è®¤è¯å’Œæˆæƒç›¸å…³æ¥å£"
    },
    {
      "name": "æœç´¢",
      "description": "æ–‡ä»¶æœç´¢å’ŒæŸ¥è¯¢ç›¸å…³æ¥å£"
    },
    {
      "name": "æ–‡ä»¶ç®¡ç†",
      "description": "æ–‡ä»¶ç®¡ç†å’Œæ“ä½œç›¸å…³æ¥å£"
    },
    {
      "name": "ç›®å½•ç®¡ç†",
      "description": "ç›®å½•æ‰«æå’Œç®¡ç†ç›¸å…³æ¥å£"
    },
    {
      "name": "ç”¨æˆ·ç®¡ç†",
      "description": "ç”¨æˆ·ä¿¡æ¯ç®¡ç†ç›¸å…³æ¥å£"
    },
    {
      "name": "ç³»ç»Ÿç®¡ç†",
      "description": "ç³»ç»Ÿé…ç½®å’ŒçŠ¶æ€ç®¡ç†æ¥å£"
    },
    {
      "name": "å¥åº·æ£€æŸ¥",
      "description": "ç³»ç»Ÿå¥åº·æ£€æŸ¥å’Œç›‘æ§æ¥å£"
    }
  ],
  "security": [
    {
      "BearerAuth": []
    }
  ]
}