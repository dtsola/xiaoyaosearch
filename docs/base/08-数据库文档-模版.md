# [项目名称] - 数据库设计文档

---

## 文档信息

| 项目 | 内容 |
|------|------|
| **项目名称** | [项目名称] |
| **文档版本** | v1.0 |
| **创建日期** | YYYY-MM-DD |
| **最后更新** | YYYY-MM-DD |
| **数据库类型** | [数据库类型及版本] |
| **字符集** | [字符集] |
| **排序规则** | [排序规则] |
| **主键类型** | [主键类型及生成策略] |
| **外键策略** | [外键策略说明] |

---

## 目录

1. [数据库概述](#1-数据库概述)
2. [主键生成策略](#2-主键生成策略)
3. [外键策略](#3-外键策略)
4. [ER图](#4-er图)
5. [表结构设计](#5-表结构设计)
6. [索引设计](#6-索引设计)
7. [数据字典](#7-数据字典)

---

## 1. 数据库概述

### 1.1 数据库信息

| 项目 | 说明 |
|------|------|
| **数据库名称** | `[数据库名]` |
| **存储引擎** | [存储引擎] |
| **字符集** | [字符集] |
| **排序规则** | [排序规则] |
| **时区** | [时区] |

### 1.2 表清单

| 序号 | 表名 | 说明 | 预估数据量 |
|------|------|------|-----------|
| 1 | [表名1] | [表说明] | [数据量] |
| 2 | [表名2] | [表说明] | [数据量] |
| 3 | [表名3] | [表说明] | [数据量] |
| N | [表名N] | [表说明] | [数据量] |

### 1.3 命名规范

- **表名**：[命名规范说明]（如：小写字母，单词间用下划线分隔）
- **字段名**：[命名规范说明]（如：小写字母，单词间用下划线分隔）
- **主键**：[主键命名规范]（如：统一使用 `id`）
- **外键**：[外键命名规范]（如：格式为 `{表名}_id`）
- **时间戳**：[时间戳字段命名]（如：`created_at`、`updated_at`）
- **索引**：[索引命名规范]（如：格式为 `idx_{表名}_{字段名}`）

---

## 2. 主键生成策略

### 2.1 策略说明

**[主键生成策略名称]** 

[策略详细说明]

### 2.2 策略结构（如适用）

```
[策略结构图示或说明]
```

**字段说明：**

| 字段 | 位数/长度 | 说明 |
|------|----------|------|
| [字段1] | [位数] | [说明] |
| [字段2] | [位数] | [说明] |
| [字段N] | [位数] | [说明] |

### 2.3 策略优势

| 优势 | 说明 |
|------|------|
| **[优势1]** | [说明] |
| **[优势2]** | [说明] |
| **[优势3]** | [说明] |
| **[优势N]** | [说明] |

### 2.4 实现示例

```[语言]
# [实现代码示例]
[代码内容]
```

### 2.5 使用示例

```[语言]
# [使用示例代码]
[代码内容]
```

---

## 3. 外键策略

### 3.1 策略说明

**[外键策略名称]**

[策略详细说明]

### 3.2 策略对比

| 对比项 | [策略1] | [策略2] |
|--------|---------|---------|
| **定义方式** | [说明] | [说明] |
| **性能** | [说明] | [说明] |
| **灵活性** | [说明] | [说明] |
| **数据一致性** | [说明] | [说明] |
| **级联操作** | [说明] | [说明] |
| **分库分表** | [说明] | [说明] |
| **适用场景** | [说明] | [说明] |

### 3.3 策略优势

| 优势 | 说明 |
|------|------|
| **[优势1]** | [说明] |
| **[优势2]** | [说明] |
| **[优势3]** | [说明] |
| **[优势N]** | [说明] |

### 3.4 实现规范

#### **命名规范**

```sql
-- [命名规范示例]
[字段名] [数据类型] [约束] COMMENT '[注释]'
```

#### **索引规范**

```sql
-- [索引规范示例]
KEY [索引名] ([字段名])
```

#### **应用层处理**

```[语言]
# [应用层处理代码示例]
[代码内容]
```

---

## 4. ER图

### 4.1 整体ER图

```
[ER图说明或图片链接]
```

### 4.2 核心实体关系

**[实体1] ↔ [实体2]**
- 关系类型：[1:1 / 1:N / N:N]
- 关联字段：[字段说明]
- 说明：[关系说明]

**[实体2] ↔ [实体3]**
- 关系类型：[1:1 / 1:N / N:N]
- 关联字段：[字段说明]
- 说明：[关系说明]

---

## 5. 表结构设计

### 5.1 [表名1]

**表说明：** [表的功能说明]

**建表语句：**

```sql
CREATE TABLE `[表名]` (
  `id` [数据类型] PRIMARY KEY COMMENT '[主键说明]',
  `[字段1]` [数据类型] [约束] COMMENT '[字段说明]',
  `[字段2]` [数据类型] [约束] COMMENT '[字段说明]',
  `[字段N]` [数据类型] [约束] COMMENT '[字段N说明]',
  `created_at` [时间类型] [约束] COMMENT '创建时间',
  `updated_at` [时间类型] [约束] COMMENT '更新时间',
  
  KEY `[索引名1]` (`[字段名]`),
  KEY `[索引名2]` (`[字段名]`),
  UNIQUE KEY `[唯一索引名]` (`[字段名]`)
) ENGINE=[存储引擎] DEFAULT CHARSET=[字符集] COLLATE=[排序规则] COMMENT='[表注释]';
```

**字段说明：**

| 字段名 | 类型 | 长度 | 允许空 | 默认值 | 说明 |
|--------|------|------|--------|--------|------|
| id | [类型] | [长度] | NO | - | [说明] |
| [字段1] | [类型] | [长度] | [YES/NO] | [默认值] | [说明] |
| [字段2] | [类型] | [长度] | [YES/NO] | [默认值] | [说明] |
| [字段N] | [类型] | [长度] | [YES/NO] | [默认值] | [说明] |
| created_at | [类型] | - | NO | CURRENT_TIMESTAMP | 创建时间 |
| updated_at | [类型] | - | NO | CURRENT_TIMESTAMP | 更新时间 |

**索引说明：**

| 索引名 | 类型 | 字段 | 说明 |
|--------|------|------|------|
| PRIMARY | 主键 | id | 主键索引 |
| [索引名1] | 普通索引 | [字段] | [说明] |
| [索引名2] | 唯一索引 | [字段] | [说明] |

**示例数据：**

```sql
INSERT INTO `[表名]` ([字段列表]) VALUES
([示例数据1]),
([示例数据2]),
([示例数据N]);
```

---

### 5.2 [表名2]

**表说明：** [表的功能说明]

**建表语句：**

```sql
CREATE TABLE `[表名]` (
  `id` [数据类型] PRIMARY KEY COMMENT '[主键说明]',
  `[字段1]` [数据类型] [约束] COMMENT '[字段说明]',
  `[字段2]` [数据类型] [约束] COMMENT '[字段说明]',
  `[关联字段]` [数据类型] [约束] COMMENT '[关联说明]',
  `created_at` [时间类型] [约束] COMMENT '创建时间',
  `updated_at` [时间类型] [约束] COMMENT '更新时间',
  
  KEY `[索引名1]` (`[字段名]`),
  KEY `[索引名2]` (`[关联字段]`)
) ENGINE=[存储引擎] DEFAULT CHARSET=[字符集] COLLATE=[排序规则] COMMENT='[表注释]';
```

**字段说明：**

| 字段名 | 类型 | 长度 | 允许空 | 默认值 | 说明 |
|--------|------|------|--------|--------|------|
| id | [类型] | [长度] | NO | - | [说明] |
| [字段1] | [类型] | [长度] | [YES/NO] | [默认值] | [说明] |
| [关联字段] | [类型] | [长度] | NO | - | [关联说明] |
| created_at | [类型] | - | NO | CURRENT_TIMESTAMP | 创建时间 |
| updated_at | [类型] | - | NO | CURRENT_TIMESTAMP | 更新时间 |

**索引说明：**

| 索引名 | 类型 | 字段 | 说明 |
|--------|------|------|------|
| PRIMARY | 主键 | id | 主键索引 |
| [索引名1] | 普通索引 | [字段] | [说明] |
| [索引名2] | 普通索引 | [关联字段] | [关联查询优化] |

---

### 5.N [表名N]

[继续按照相同格式添加其他表]

---

## 6. 索引设计

### 6.1 索引策略

| 索引类型 | 使用场景 | 说明 |
|---------|---------|------|
| **主键索引** | 所有表的主键 | [说明] |
| **唯一索引** | 唯一性约束字段 | [说明] |
| **普通索引** | 高频查询字段 | [说明] |
| **组合索引** | 多字段联合查询 | [说明] |
| **全文索引** | 文本搜索 | [说明] |

### 6.2 索引清单

| 表名 | 索引名 | 索引类型 | 字段 | 说明 |
|------|--------|---------|------|------|
| [表名1] | PRIMARY | 主键 | id | 主键索引 |
| [表名1] | [索引名1] | 普通索引 | [字段] | [说明] |
| [表名1] | [索引名2] | 唯一索引 | [字段] | [说明] |
| [表名2] | PRIMARY | 主键 | id | 主键索引 |
| [表名2] | [索引名1] | 普通索引 | [字段] | [说明] |

### 6.3 索引优化建议

1. **[建议1]**：[具体说明]
2. **[建议2]**：[具体说明]
3. **[建议3]**：[具体说明]
4. **[建议N]**：[具体说明]

---

## 7. 数据字典

### 7.1 枚举类型

#### [枚举类型1]

| 值 | 说明 | 使用场景 |
|----|------|---------|
| [值1] | [说明] | [场景] |
| [值2] | [说明] | [场景] |
| [值N] | [说明] | [场景] |

#### [枚举类型2]

| 值 | 说明 | 使用场景 |
|----|------|---------|
| [值1] | [说明] | [场景] |
| [值2] | [说明] | [场景] |
| [值N] | [说明] | [场景] |

### 7.2 常用字段类型

| 字段类型 | 数据类型 | 长度 | 说明 |
|---------|---------|------|------|
| **主键** | [类型] | [长度] | [说明] |
| **外键** | [类型] | [长度] | [说明] |
| **用户名** | [类型] | [长度] | [说明] |
| **密码** | [类型] | [长度] | [说明] |
| **手机号** | [类型] | [长度] | [说明] |
| **邮箱** | [类型] | [长度] | [说明] |
| **URL** | [类型] | [长度] | [说明] |
| **金额** | [类型] | [长度] | [说明] |
| **时间戳** | [类型] | - | [说明] |

### 7.3 业务规则

#### [业务规则1]

- **规则说明**：[规则详细说明]
- **涉及表**：[相关表名]
- **实现方式**：[实现说明]

#### [业务规则2]

- **规则说明**：[规则详细说明]
- **涉及表**：[相关表名]
- **实现方式**：[实现说明]

---

## 8. 数据库维护

### 8.1 备份策略

| 备份类型 | 频率 | 保留时间 | 说明 |
|---------|------|---------|------|
| **全量备份** | [频率] | [时间] | [说明] |
| **增量备份** | [频率] | [时间] | [说明] |
| **日志备份** | [频率] | [时间] | [说明] |

### 8.2 性能优化

1. **[优化项1]**：[具体说明]
2. **[优化项2]**：[具体说明]
3. **[优化项3]**：[具体说明]
4. **[优化项N]**：[具体说明]

### 8.3 监控指标

| 监控项 | 阈值 | 说明 |
|--------|------|------|
| **连接数** | [阈值] | [说明] |
| **慢查询** | [阈值] | [说明] |
| **磁盘空间** | [阈值] | [说明] |
| **[其他指标]** | [阈值] | [说明] |

---

## 9. 数据库迁移

### 9.1 迁移工具

- **工具名称**：[迁移工具]
- **版本**：[版本号]
- **说明**：[工具说明]

### 9.2 迁移流程

1. **[步骤1]**：[具体说明]
2. **[步骤2]**：[具体说明]
3. **[步骤3]**：[具体说明]
4. **[步骤N]**：[具体说明]

### 9.3 迁移脚本示例

```sql
-- [迁移脚本说明]
[SQL脚本内容]
```

---

## 10. 附录

### 10.1 数据库初始化脚本

```sql
-- 创建数据库
CREATE DATABASE IF NOT EXISTS `[数据库名]` 
DEFAULT CHARACTER SET [字符集] 
COLLATE [排序规则];

USE `[数据库名]`;

-- [其他初始化SQL]
```

### 10.2 常用查询示例

```sql
-- [查询说明1]
[SQL查询1]

-- [查询说明2]
[SQL查询2]

-- [查询说明N]
[SQL查询N]
```

### 10.3 参考资料

- [参考资料1]：[链接或说明]
- [参考资料2]：[链接或说明]
- [参考资料N]：[链接或说明]

---

**文档维护：** [维护团队/负责人]  
**最后更新：** YYYY-MM-DD