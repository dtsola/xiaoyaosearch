# 架构决策 - 使用 Loguru 日志框架

**决策日期**：2024年12月10日

## 背景
当前 logging 模块在多线程环境下存在问题：后台任务日志无法写入文件，多线程日志记录不稳定。

## 解决方案
采用 Loguru 替换现有 logging 模块。
- 开箱即用，线程安全
- 异步写入，不阻塞主线程
- 自动日志轮转和压缩
- 更好的错误信息展示

## 影响
**改动范围**：
- 添加 loguru 依赖
- 替换所有模块的日志导入（约30+文件）
- 删除 logging_config.py

**风险评估**：
- 与标准 logging 不兼容，需要全面替换
- 第三方库适配成本

---

**决策编号**：AD-20241210-01